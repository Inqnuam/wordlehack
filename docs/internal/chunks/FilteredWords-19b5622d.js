import{S,i as V,s as z,e as g,k as O,c as m,a as k,m as F,d as h,g as y,F as f,b as d,K as $,L as x,E as T,X as A,f as ee,q as P,t as U,h as L,W as I,$ as R,G as b,N as ie,j as ce}from"./index-3bd5fae0.js";import{f as te}from"./index-9f709e4b.js";const ye=(s=5)=>{let l={};for(let n=0;n<s;n++)l[`letter${n}`]={value:"",index:-1};return l},ue=(s,l)=>{let n=0;return Object.keys(s).forEach(e=>{s[e].value.toLowerCase()==l&&s[e].index!==-1&&n++}),n};function he(s,l,n,e){const t=s[n].value.toLowerCase();return ue(s,t)==0?!e.includes(t):s[n].index<0?e.includes(t)&&e[l]!==t:e[l]==t}const Ee=(s,l)=>s.filter(e=>Object.keys(l).map((a,r)=>he(l,r,a,e)).every(a=>a===!0));function H(s,l,n){const e=s.slice();return e[1]=l[n],e}function K(s,l,n){const e=s.slice();return e[4]=l[n],e[6]=n,e}function X(s){let l,n,e;return{c(){l=g("input"),this.h()},l(t){l=m(t,"INPUT",{class:!0,type:!0,maxlength:!0}),this.h()},h(){d(l,"class",n="letter "+(s[1][s[4]].index==-1?"letter-absent":s[1][s[4]].index==s[6]?"letter-correct":"letter-elsewhere")),d(l,"type","text"),d(l,"maxlength","1"),l.value=e=s[1][s[4]].value.toUpperCase(),l.disabled=!0},m(t,a){y(t,l,a)},p(t,a){a&1&&n!==(n="letter "+(t[1][t[4]].index==-1?"letter-absent":t[1][t[4]].index==t[6]?"letter-correct":"letter-elsewhere"))&&d(l,"class",n),a&1&&e!==(e=t[1][t[4]].value.toUpperCase())&&l.value!==e&&(l.value=e)},d(t){t&&h(l)}}}function J(s){let l,n,e,t=Object.keys(s[1]),a=[];for(let r=0;r<t.length;r+=1)a[r]=X(K(s,t,r));return{c(){l=g("div");for(let r=0;r<a.length;r+=1)a[r].c();n=O()},l(r){l=m(r,"DIV",{});var o=k(l);for(let i=0;i<a.length;i+=1)a[i].l(o);n=F(o),o.forEach(h)},m(r,o){y(r,l,o);for(let i=0;i<a.length;i+=1)a[i].m(l,null);f(l,n)},p(r,o){if(o&1){t=Object.keys(r[1]);let i;for(i=0;i<t.length;i+=1){const u=K(r,t,i);a[i]?a[i].p(u,o):(a[i]=X(u),a[i].c(),a[i].m(l,n))}for(;i<a.length;i+=1)a[i].d(1);a.length=t.length}},i(r){e||$(()=>{e=x(l,te,{}),e.start()})},o:T,d(r){r&&h(l),A(a,r)}}}function de(s){let l,n=s[0],e=[];for(let t=0;t<n.length;t+=1)e[t]=J(H(s,n,t));return{c(){l=g("div");for(let t=0;t<e.length;t+=1)e[t].c();this.h()},l(t){l=m(t,"DIV",{style:!0});var a=k(l);for(let r=0;r<e.length;r+=1)e[r].l(a);a.forEach(h),this.h()},h(){ee(l,"margin","1rem")},m(t,a){y(t,l,a);for(let r=0;r<e.length;r+=1)e[r].m(l,null)},p(t,[a]){if(a&1){n=t[0];let r;for(r=0;r<n.length;r+=1){const o=H(t,n,r);e[r]?(e[r].p(o,a),P(e[r],1)):(e[r]=J(o),e[r].c(),P(e[r],1),e[r].m(l,null))}for(;r<e.length;r+=1)e[r].d(1);e.length=n.length}},i(t){for(let a=0;a<n.length;a+=1)P(e[a])},o:T,d(t){t&&h(l),A(e,t)}}}function fe(s,l,n){let{testedWords:e}=l;return s.$$set=t=>{"testedWords"in t&&n(0,e=t.testedWords)},[e]}class Ie extends S{constructor(l){super(),V(this,l,fe,de,z,{testedWords:0})}}function M(s,l,n){const e=s.slice();e[10]=l[n],e[12]=l,e[13]=n;const t=e[0][e[10]].index;return e[11]=t,e}function Q(s){let l,n,e,t,a,r,o,i,u,j,w,W,c,_,N,C;function D(){s[3].call(n,s[10])}function le(...v){return s[4](s[13],...v)}function ne(...v){return s[5](s[13],...v)}function se(...v){return s[6](s[10],s[13],...v)}function re(){return s[7](s[10])}function ae(){return s[8](s[10],s[13])}function oe(){return s[9](s[10])}return{c(){l=g("div"),n=g("input"),t=O(),a=g("div"),r=g("span"),o=U("\u2B1C\uFE0F"),i=O(),u=g("span"),j=U("\u{1F7E9}"),w=O(),W=g("span"),c=U("\u{1F7E8}"),_=O(),this.h()},l(v){l=m(v,"DIV",{class:!0});var p=k(l);n=m(p,"INPUT",{id:!0,autocorrect:!0,autocomplete:!0,class:!0,type:!0,maxlength:!0}),t=F(p),a=m(p,"DIV",{});var E=k(a);r=m(E,"SPAN",{class:!0});var B=k(r);o=L(B,"\u2B1C\uFE0F"),B.forEach(h),i=F(E),u=m(E,"SPAN",{class:!0});var q=k(u);j=L(q,"\u{1F7E9}"),q.forEach(h),w=F(E),W=m(E,"SPAN",{class:!0});var G=k(W);c=L(G,"\u{1F7E8}"),G.forEach(h),E.forEach(h),_=F(p),p.forEach(h),this.h()},h(){d(n,"id",e=s[10]),d(n,"autocorrect","off"),d(n,"autocomplete","off"),d(n,"class","letter"),d(n,"type","text"),d(n,"maxlength","1"),I(n,"letter-absent",s[11]==-1),I(n,"letter-correct",s[11]==s[13]),I(n,"letter-elsewhere",s[11]==-2),d(r,"class","svelte-1eaazn4"),d(u,"class","svelte-1eaazn4"),d(W,"class","svelte-1eaazn4"),d(l,"class","inputBlock svelte-1eaazn4")},m(v,p){y(v,l,p),f(l,n),R(n,s[0][s[10]].value),f(l,t),f(l,a),f(a,r),f(r,o),f(a,i),f(a,u),f(u,j),f(a,w),f(a,W),f(W,c),f(l,_),N||(C=[b(n,"input",D),b(n,"input",le),b(n,"keyup",ne),b(n,"change",se),b(r,"click",re),b(u,"click",ae),b(W,"click",oe)],N=!0)},p(v,p){s=v,p&1&&e!==(e=s[10])&&d(n,"id",e),p&1&&n.value!==s[0][s[10]].value&&R(n,s[0][s[10]].value),p&1&&I(n,"letter-absent",s[11]==-1),p&1&&I(n,"letter-correct",s[11]==s[13]),p&1&&I(n,"letter-elsewhere",s[11]==-2)},d(v){v&&h(l),N=!1,ie(C)}}}function _e(s){let l,n,e=Object.keys(s[0]),t=[];for(let a=0;a<e.length;a+=1)t[a]=Q(M(s,e,a));return{c(){l=g("div");for(let a=0;a<t.length;a+=1)t[a].c()},l(a){l=m(a,"DIV",{});var r=k(l);for(let o=0;o<t.length;o+=1)t[o].l(r);r.forEach(h)},m(a,r){y(a,l,r);for(let o=0;o<t.length;o+=1)t[o].m(l,null)},p(a,[r]){if(r&7){e=Object.keys(a[0]);let o;for(o=0;o<e.length;o+=1){const i=M(a,e,o);t[o]?t[o].p(i,r):(t[o]=Q(i),t[o].c(),t[o].m(l,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=e.length}},i(a){n||$(()=>{n=x(l,te,{}),n.start()})},o:T,d(a){a&&h(l),A(t,a)}}}const ve="ArrowRight",pe="ArrowLeft";function ge(s,l,n){let{newWord:e}=l,{testedWords:t}=l;const a=Object.keys(e).length-1;function r(c){e[c].value=this.value,n(0,e)}const o=(c,_)=>{_.target.value!==""&&c<a&&document.getElementById(`letter${c+1}`).focus()},i=(c,_)=>{_.code==ve&&c<a?document.getElementById(`letter${c+1}`).focus():_.code==pe&&c>0&&document.getElementById(`letter${c-1}`).focus()},u=(c,_,N)=>{n(0,e[c].value=e[c].value.toUpperCase(),e);const C=t.find(D=>D[c].value.toUpperCase()==e[c].value);C&&C[c].index==_&&n(0,e[c].index=_,e)},j=c=>n(0,e[c].index=-1,e),w=(c,_)=>n(0,e[c].index=_,e),W=c=>n(0,e[c].index=-2,e);return s.$$set=c=>{"newWord"in c&&n(0,e=c.newWord),"testedWords"in c&&n(1,t=c.testedWords)},[e,t,a,r,o,i,u,j,w,W]}class je extends S{constructor(l){super(),V(this,l,ge,_e,z,{newWord:0,testedWords:1})}}function Y(s,l,n){const e=s.slice();return e[4]=l[n],e}function Z(s){let l,n=s[4].toUpperCase()+"",e,t,a,r;function o(){return s[3](s[4])}return{c(){l=g("span"),e=U(n),t=U(", "),this.h()},l(i){l=m(i,"SPAN",{class:!0});var u=k(l);e=L(u,n),t=L(u,", "),u.forEach(h),this.h()},h(){d(l,"class","svelte-j3puuv")},m(i,u){y(i,l,u),f(l,e),f(l,t),a||(r=b(l,"click",o),a=!0)},p(i,u){s=i,u&1&&n!==(n=s[4].toUpperCase()+"")&&ce(e,n)},d(i){i&&h(l),a=!1,r()}}}function me(s){let l,n=s[0],e=[];for(let t=0;t<n.length;t+=1)e[t]=Z(Y(s,n,t));return{c(){l=g("div");for(let t=0;t<e.length;t+=1)e[t].c();this.h()},l(t){l=m(t,"DIV",{style:!0});var a=k(l);for(let r=0;r<e.length;r+=1)e[r].l(a);a.forEach(h),this.h()},h(){ee(l,"max-width","500px")},m(t,a){y(t,l,a);for(let r=0;r<e.length;r+=1)e[r].m(l,null)},p(t,[a]){if(a&3){n=t[0];let r;for(r=0;r<n.length;r+=1){const o=Y(t,n,r);e[r]?e[r].p(o,a):(e[r]=Z(o),e[r].c(),e[r].m(l,null))}for(;r<e.length;r+=1)e[r].d(1);e.length=n.length}},i:T,o:T,d(t){t&&h(l),A(e,t)}}}function ke(s,l,n){let{latestFilter:e}=l,{newWord:t}=l;function a(o){Object.keys(t).forEach((i,u)=>{n(2,t[i].value=o[u],t)})}const r=o=>a(o.toUpperCase());return s.$$set=o=>{"latestFilter"in o&&n(0,e=o.latestFilter),"newWord"in o&&n(2,t=o.newWord)},[e,a,t,r]}class we extends S{constructor(l){super(),V(this,l,ke,me,z,{latestFilter:0,newWord:2})}}export{we as F,Ie as T,je as W,Ee as f,ye as g};
